using System;									// System contains a lot of default C# libraries 
using GXPEngine;								// GXPEngine contains the engine

namespace GXPEngine
{
    public class Level1 : GameObject
    {
        Player player;
        Level1_Background background;

        Block_Jump _block_jump;
        Block_Jump2 _block_jump2;

        Enemy enemy;

        public Level1() : base()
        {
            SetuptLevel();
        }

        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        //                                                                                                                        SetuptLevel()
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        void SetuptLevel()
        {
            background = new Level1_Background();
            AddChild(background);

            player = new Player();
            AddChild(player);

            enemy = new Enemy(3000, 830, 2500, 3500);
            AddChild(enemy);

            _block_jump2 = new Block_Jump2(4500, 709);
            AddChild(_block_jump2);

            _block_jump = new Block_Jump(6750, 550);
            AddChild(_block_jump);

            _block_jump = new Block_Jump(7250, 550);
            AddChild(_block_jump);

            enemy = new Enemy(6750, 830, 6250, 7250);
            AddChild(enemy);

            enemy = new Enemy(7250, 525, 7151, 7349);
            AddChild(enemy);

            _block_jump2 = new Block_Jump2(8800, 709);
            AddChild(_block_jump2);

            enemy = new Enemy(9300, 830, 8950, 10350);
            AddChild(enemy);

            enemy = new Enemy(10000, 830, 8950, 10350);
            AddChild(enemy);

            _block_jump2 = new Block_Jump2(10500, 709);
            AddChild(_block_jump2);

            enemy = new Enemy(11250, 830, 10650, 12600);
            AddChild(enemy);

            _block_jump = new Block_Jump(11250, 550);
            AddChild(_block_jump);

            _block_jump = new Block_Jump(12000, 550);
            AddChild(_block_jump);

            enemy = new Enemy(12000, 830, 10650, 12600);
            AddChild(enemy);

            _block_jump2 = new Block_Jump2(12750, 709);
            AddChild(_block_jump2);
        }

        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        //                                                                                                                        CheckForNewLevel()
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        void CheckForNewLevel()
        {
            if (player.x >= 13500)
            {
                MyGame mygame = game as MyGame;
                LateDestroy();
                LateRemove();
                mygame.CreateLevel2();
            }
        }

        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        //                                                                                                                        BorderLevel()
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        void BorderLevel()
        {
            if (player.x + x > 800) x = 800 - player.x;
            if (player.x + x < 500) x = 500 - player.x;
        }

        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        //                                                                                                                        Update()
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        void Update()
        {
            BorderLevel();

            CheckForNewLevel();
        }
    }
}
