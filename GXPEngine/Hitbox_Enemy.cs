using System;
using GXPEngine;

namespace GXPEngine
{
    class Hitbox_Enemy : Sprite
    {
        public Hitbox_Enemy() : base("hitbox_enemy.png")
        {
            visible = false;

            SetOrigin(width / 2, height / 2);
            SetXY(0, -100);
        }

        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        //                                                                                                                        HitboxUpdate()
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        void HitboxUpdate()
        {
            if (Globals.EnemyGoToLeft == false && Globals.EnemyGoToRight == true)
            {
                SetOrigin(width / 2, height / 2);
                SetXY(30, -100);
            }

            if (Globals.EnemyGoToLeft == true && Globals.EnemyGoToRight == false)
            {
                SetOrigin(width / 2, height / 2);
                SetXY(-30, -100);
            }
        }

        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        //                                                                                                                        OnCollision()
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        public void OnCollision(GameObject other)
        {
            if (other is Hitbox_Fist && Globals.playerIsAttacking == true)
            {
                LateDestroy();
                LateRemove();

                Globals.EnemyIsDead = true;
            }
        }

        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        //                                                                                                                        Update()
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        void Update()
        {
            //HitboxUpdate();
        }
    }
}
